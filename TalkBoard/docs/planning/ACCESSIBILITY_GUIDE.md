# ♿ 접근성 스타일 가이드

기억의 정원 앱을 연령·상황과 관계없이 누구나 사용할 수 있도록 설계하기 위한 지침입니다. 모든 화면 구현 시 아래 항목을 기본으로 준수하고, 예외가 필요한 경우 문서로 기록합니다.

---

## 1. 타이포그래피

### 1.1 글자 크기
- 기본 본문: 16sp 이상
- 섹션 제목: 18~22sp, Bold
- 카드 타이틀 및 버튼: 16sp, Semi-bold 이상
- 캡션/보조 문구: 14sp, 필요 시 13sp까지 허용 (반드시 충분한 대비 확보)
- 시스템 텍스트 스케일: `MediaQuery.textScaleFactor` 최대 1.4까지 UI가 깨지지 않도록 레이아웃 대응

### 1.2 글꼴 두께
- 주요 액션 버튼, 제목, 카드 타이틀: `FontWeight.w600`~`w700`
- 본문: `w400` (필요 시 `w500`으로 가독성 강화)

### 1.3 줄 간격
- 본문: `height: 1.5` 이상
- 장문 텍스트(안내문/설명): `height: 1.6`~`1.8`

### 1.4 설정 옵션
- 설정 > 접근성 > “글자 크기” : 기본 / 크게 / 매우 크게 (1.0, 1.2, 1.4 배율)
- 옵션 변경 시 `ThemeData` 또는 Provider로 글로벌 텍스트 스케일 적용

---

## 2. 색상 및 대비

### 2.1 색상 대비 기준
- 텍스트 대비 기본: 4.5:1 이상
- 큰 텍스트(18sp Bold 이상): 3:1 이상
- 버튼/아이콘 대비: 최소 3:1 (배경 대비)

### 2.2 기본 팔레트 적용
- 본문/타이틀: `AppPalette.ink` (짙은 갈색)
- 보조 텍스트: `AppPalette.caption` (회색, 대비 확인 후 유지)
- 액션 강조 색상은 배경 대비 확인 후 사용 (예: `AppPalette.warmBrown` + 밝은 배경)

### 2.3 고대비 모드 (향후)
- 계획: 설정 > 접근성 옵션 추가
- 예상 변화: 배경은 Pure White, 텍스트/버튼은 Black/Navy 등 고대비 색상

---

## 3. 버튼 및 상호작용

### 3.1 터치 영역
- 최소 48dp × 48dp 클릭 영역 확보
- 아이콘 버튼은 패딩을 추가해 접근성 확보 (ex. `IconButton` 기본 패딩 유지)

### 3.2 포커스 & 상태
- Focus/Pressed 상태 색상 구분 (키보드/스크린 리더 환경 고려)
- 버튼 비활성화 시 색상/투명도로만 표시하지 말고 레이블 또는 helper text 추가

### 3.3 버튼 레이블
- 아이콘만 사용하지 말고 텍스트 레이블 필수 (스크린리더 대응)
- FAB 역할은 `Semantics` 또는 `tooltip` 제공

---

## 4. 레이아웃 & 컴포넌트

### 4.1 반응형
- 세로/가로 모드 및 작은 폰 (360dp 폭)에서도 텍스트가 잘려 보이지 않는지 확인
- `Flexible`, `Expanded`, `Wrap` 활용으로 템플릿 폭 조정

### 4.2 카드 & 리스트
- 카드 내부 텍스트가 늘어날 때 스크롤/줄바꿈 처리 (overflow 방지)
- 리스트 항목 간 최소 12dp 간격 유지

### 4.3 다국어/길이 대비
- 텍스트는 예상보다 30% 길게 번역될 가능성을 고려해 `TextOverflow.ellipsis` 및 적절한 `maxLines` 설정

---

## 5. 오디오 및 알림

### 5.1 소리/진동
- 중요 알림은 사운드와 함께 텍스트/아이콘 제공
- 알림 수신 시 커스텀 사운드보다 시스템 기본 사운드 사용 권장

### 5.2 스크린 리더
- 모든 버튼/아이콘에 `Semantics(label: ...)` 또는 `tooltip` 지정
- 이미지에는 `semanticLabel` 제공 (추억 카드, 프로필 사진 등)

---

## 6. 접근성 설정 UI

설정 > 접근성에 최소 다음 옵션을 노출합니다.

| 옵션 | 설명 | 기본값 |
|------|------|--------|
| 글자 크기 | 기본 / 크게 / 매우 크게 | 기본 |
| (선택) 고대비 모드 | 대비 강화 테마 적용 | 해제 |

기능 구현 전까지 해당 옵션의 UI만 준비하고, 실제 적용 시 디자인 시스템 반영.

---

## 7. 테스트 체크리스트

- [ ] `flutter run --profile`로 텍스트 스케일 1.3 이상에서 UI 확인
- [ ] `flutter_lints` + 커스텀 lint에서 `Text` 기본 색상/스타일 검출
- [ ] TalkBack(Vox) 또는 iOS VoiceOver로 주요 플로우 테스트
- [ ] 최소 밝기/최대 밝기에서 색상 대비 확인
- [ ] 버튼 탭 영역이 48dp 이상인지 Flutter Inspector로 체크

---

## 8. 문서 업데이트

- 새로운 컴포넌트 추가 시 해당 기준을 맞추지 못하면 `COMPONENTS.md`에 접근성 주석 추가
- 예외 발생 시 (예: 브랜드 색 제한) 근거와 보완책을 이 문서에 추후 업데이트

---

## 참고 자료
- [WCAG 2.1 요약 가이드](https://www.w3.org/TR/WCAG21/)
- [Material Design Accessibility](https://m3.material.io/foundations/accessible-design)
- [Flutter 설계 가이드: 글자 크기 & 대비](https://docs.flutter.dev/development/accessibility-and-localization/accessibility)

