# 💡 핵심 기능 명세서

## 📋 기능 목록

### 1. 추모관 관리

#### 1.1 추모관 생성
- **기능**: 고인을 위한 추모관 생성
- **입력 항목**:
  - 고인 이름 (필수)
  - 생애 요약 (선택)
  - 사진 (최대 5장)
  - 동영상 (YouTube 링크 또는 업로드)
  - 편지 (텍스트 또는 음성)
  - 기념일 (생일, 기일)
  - 공개/비공개 설정
- **출력**: 추모관 ID, 생성 일시

#### 1.2 추모관 수정
- **기능**: 생성한 추모관 정보 수정
- **권한**: 추모관 생성자만 수정 가능
- **수정 가능 항목**: 모든 입력 항목

#### 1.3 추모관 삭제
- **기능**: 추모관 삭제 (소프트 삭제)
- **권한**: 추모관 생성자만 삭제 가능
- **복원**: 삭제된 추모관 복원 기능

#### 1.4 추모관 목록 조회
- **기능**: 내가 만든 추모관 리스트 조회
- **필터**: 공개/비공개, 최신순/이름순
- **검색**: 고인 이름으로 검색

### 2. 콘텐츠 관리

#### 2.1 사진 업로드
- **기능**: 추모관에 사진 추가
- **제한**: 최대 5장
- **형식**: JPG, PNG
- **크기 제한**: 10MB 이하

#### 2.2 동영상 관리
- **기능**: YouTube 링크 또는 직접 업로드
- **형식**: MP4, YouTube 링크
- **크기 제한**: 100MB 이하 (업로드 시)

#### 2.3 편지 작성
- **기능**: 텍스트 또는 음성으로 편지 작성
- **텍스트 편지**: 마크다운 지원
- **음성 편지**: 녹음 및 재생 기능

### 3. 추모 활동

#### 3.1 방문 기록
- **기능**: 추모관 방문 시 자동 카운트
- **표시**: "이 추모관은 N명이 방문했습니다"
- **중복 방문**: 하루 1회만 카운트

#### 3.2 댓글 작성
- **기능**: 추모관에 위로 메시지 작성
- **형식**: 텍스트
- **수정/삭제**: 작성자만 가능

#### 3.3 기도 요청
- **기능**: 기도 요청 글 작성 및 함께 기도 참여
- **기도 카운트**: 함께 기도 버튼 클릭 시 카운트 증가
- **응답 댓글**: 기도 응답 메시지 작성

#### 3.4 감정 공유 게시판
- **기능**: 감정 나눔 글 작성
- **CRUD**: 글 작성, 조회, 수정, 삭제
- **좋아요**: 하트 아이콘으로 좋아요 표시
- **댓글**: 댓글 작성 및 조회

### 4. 추모금 시스템

#### 4.1 추모금 전달
- **기능**: 추모금 결제 및 전달
- **결제 방식**: 카드, 계좌이체, 간편결제
- **수수료**: 전달 금액의 5% 차감
- **유지비**: ₩1,900 차감
- **안내**: 수수료 및 유지비 차감 안내 메시지 표시

#### 4.2 추모금 수령
- **기능**: 수령자 현금화 가능
- **출금**: 계좌로 출금 가능
- **내역**: 추모금 수령 내역 조회

### 5. 알림 시스템

#### 5.1 기념일 알림
- **기능**: 고인의 생일/기일에 푸시 알림
- **알림 내용**: 고인 이름, 날짜, "추모하러 가기" 링크
- **설정**: 알림 수신 여부 설정 가능

### 6. 프리미엄 기능

#### 6.1 프리미엄 추모관
- **기능**: 월 ₩1,900 또는 연 ₩19,000 구독
- **혜택**:
  - 무제한 사진 업로드
  - 동영상 직접 업로드 (크기 제한 없음)
  - 음성 편지 무제한
  - 광고 제거
  - 커스텀 배경

#### 6.2 디지털 헌화 아이템
- **기능**: 꽃, 배경, 음악 등 유료 아이템 구매
- **가격**: 아이템별 상이
- **적용**: 추모관에 장식으로 사용

### 7. 검색 및 추천

#### 7.1 추모관 검색
- **기능**: 공개된 추모관 검색
- **검색 조건**: 고인 이름, 생성자 이름
- **필터**: 최신순, 인기순

#### 7.2 추천 추모글
- **기능**: 홈 화면에 추천 추모글 표시
- **기준**: 최근 등록, 인기 추모관
- **표시 개수**: 3개

## 🔐 권한 관리

### 사용자 권한
- **일반 사용자**: 추모관 생성, 댓글 작성, 기도 참여
- **추모관 생성자**: 추모관 수정/삭제, 추모금 수령
- **프리미엄 사용자**: 프리미엄 기능 사용

### 추모관 권한
- **공개**: 모든 사용자가 조회 가능
- **비공개**: 생성자만 조회 가능

